-- Roblox Advance Server GUI - Pet Scanner Edition

local gui = Instance.new("ScreenGui")
gui.Name = "AdvanceServerUI"
gui.ResetOnSpawn = false
gui.IgnoreGuiInset = true
gui.Parent = game:GetService("CoreGui")

local blackBG = Instance.new("Frame")
blackBG.Size = UDim2.new(1, 0, 1, 0)
blackBG.BackgroundColor3 = Color3.new(0, 0, 0)
blackBG.BorderSizePixel = 0
blackBG.Parent = gui

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0.4, 0, 0.35, 0)
frame.Position = UDim2.new(0.3, 0, 0.33, 0)
frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
frame.BorderSizePixel = 0
frame.Parent = blackBG

Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 10)

-- Text Elements
local label = Instance.new("TextLabel")
label.Size = UDim2.new(1, -20, 0.25, 0)
label.Position = UDim2.new(0, 10, 0, 10)
label.BackgroundTransparency = 1
label.TextColor3 = Color3.new(1, 1, 1)
label.Font = Enum.Font.SourceSansBold
label.TextScaled = true
label.TextWrapped = true
label.Text = "Initializing..."
label.Parent = frame

local percentLabel = Instance.new("TextLabel")
percentLabel.Size = UDim2.new(1, -20, 0.15, 0)
percentLabel.Position = UDim2.new(0, 10, 0.27, 10)
percentLabel.BackgroundTransparency = 1
percentLabel.TextColor3 = Color3.new(1, 1, 1)
percentLabel.Font = Enum.Font.SourceSans
percentLabel.TextScaled = true
percentLabel.Text = "Progress: 0%"
percentLabel.Parent = frame

local timeLabel = Instance.new("TextLabel")
timeLabel.Size = UDim2.new(1, -20, 0.15, 0)
timeLabel.Position = UDim2.new(0, 10, 0.42, 10)
timeLabel.BackgroundTransparency = 1
timeLabel.TextColor3 = Color3.new(1, 1, 1)
timeLabel.Font = Enum.Font.SourceSans
timeLabel.TextScaled = true
timeLabel.Text = "Estimated time left: 10:00"
timeLabel.Parent = frame

local progressBarBG = Instance.new("Frame")
progressBarBG.Size = UDim2.new(1, -40, 0.15, 0)
progressBarBG.Position = UDim2.new(0, 20, 0.58, 10)
progressBarBG.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
progressBarBG.BorderSizePixel = 0
progressBarBG.Parent = frame

Instance.new("UICorner", progressBarBG).CornerRadius = UDim.new(0, 6)

local progressFill = Instance.new("Frame")
progressFill.Size = UDim2.new(0, 0, 1, 0)
progressFill.Position = UDim2.new(0, 0, 0, 0)
progressFill.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
progressFill.BorderSizePixel = 0
progressFill.Parent = progressBarBG

Instance.new("UICorner", progressFill).CornerRadius = UDim.new(0, 6)

-- Background Sound
local sound = Instance.new("Sound")
sound.SoundId = "rbxassetid://9118823106" -- looped ambient tone
sound.Volume = 0.4
sound.Looped = true
sound.Parent = gui
sound:Play()

-- Timing
local totalTime = 600 -- 10 minutes
local startTime = tick()

-- Long-interval messages
local messages = {
    "Connecting to the secure network...",
    "Authorizing Roblox credentials...",
    "Requesting session access...",
    "Reading user configuration...",
    "Scanning activity data..."
}

-- Start message loop (every 30 sec)
spawn(function()
    local index = 1
    while tick() - startTime < totalTime do
        label.Text = messages[index]
        index = index % #messages + 1
        wait(30)
    end
end)

-- Progress/Time Loop
spawn(function()
    while tick() - startTime < totalTime do
        local elapsed = tick() - startTime
        local percent = math.clamp((elapsed / totalTime) * 100, 0, 100)
        local remaining = math.max(0, totalTime - elapsed)
        local minutes = math.floor(remaining / 60)
        local seconds = math.floor(remaining % 60)

        percentLabel.Text = ("Progress: %d%%"):format(percent)
        timeLabel.Text = ("Estimated time left: %02d:%02d"):format(minutes, seconds)
        progressFill.Size = UDim2.new(percent / 100, 0, 1, 0)
        wait(0.5)
    end
end)

-- PET SCANNING LOGIC (1 min each)
local pets = {
    "Raccoon",
    "Dragonfly",
    "Butterfly",
    "Queen Bee",
    "Disco Bee",
    "Mimic Octopus"
}

spawn(function()
    local delayPerPet = 80
    for _, pet in ipairs(pets) do
        label.Text = "Finding pet: " .. pet .. " (Loading...)"
        wait(delayPerPet)
        label.Text = "Finding pet: " .. pet .. " (Done)"
        wait(2)
    end
end)

-- End sequence (errors instead of success)
delay(totalTime, function()
    sound:Stop()
    frame:Destroy()

    local finalMessages = {
        "Server cannot be found",
        "Account not qualified",
        "Required pets not found"
    }

    for _, msg in ipairs(finalMessages) do
        local errorLabel = Instance.new("TextLabel")
        errorLabel.Size = UDim2.new(1, 0, 1, 0)
        errorLabel.Position = UDim2.new(0, 0, 0, 0)
        errorLabel.BackgroundTransparency = 1
        errorLabel.TextColor3 = Color3.new(1, 0, 0)
        errorLabel.Font = Enum.Font.SourceSansBold
        errorLabel.TextScaled = true
        errorLabel.Text = msg
        errorLabel.Parent = blackBG
        wait(2)
        errorLabel:Destroy()
    end

    -- Black screen remains after
end)
